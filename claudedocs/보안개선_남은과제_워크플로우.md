# ë³´ì•ˆ ê°œì„  ë‚¨ì€ ê³¼ì œ ì›Œí¬í”Œë¡œìš°

**ë¬¸ì„œ ìƒì„±ì¼**: 2025-11-08
**í˜„ì¬ ìƒíƒœ**: Phase 1 ì™„ë£Œ (ì¹˜ëª…ì /ë†’ìŒ ì‹¬ê°ë„ í•´ê²°)
**ë‹¤ìŒ ë‹¨ê³„**: Phase 2-3 êµ¬í˜„

---

## ğŸ“Š í˜„ì¬ ë³´ì•ˆ ìƒíƒœ

### âœ… ì™„ë£Œëœ í•­ëª© (Phase 1)
- ğŸ”´ CSRF ë³´í˜¸ êµ¬í˜„
- ğŸ”´ ë³´ì•ˆ ì„¸ì…˜ ì¿ í‚¤ ì„¤ì •
- ğŸ”´ BCrypt ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
- ğŸ”´ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ê¶Œí•œ ê²€ì‚¬
- ğŸŸ  í™˜ê²½ ë³€ìˆ˜ ê¸°ë°˜ êµ¬ì„±
- ğŸŸ  ì „ì—­ CORS êµ¬ì„±
- ğŸŸ  ê²½ë¡œ ìˆœíšŒ ê³µê²© ë°©ì§€
- ğŸŸ  ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ê¸°
- ğŸŸ¡ ì…ë ¥ ê²€ì¦ (Bean Validation)

### âš ï¸ ë‚¨ì€ ë³´ì•ˆ ê³¼ì œ

| ì‹¬ê°ë„ | ê³¼ì œ | ìƒíƒœ | ìš°ì„ ìˆœìœ„ |
|--------|------|------|----------|
| ğŸŸ  ë†’ìŒ | ì†ë„ ì œí•œ (Rate Limiting) | ë¯¸êµ¬í˜„ | Phase 2-1 |
| ğŸŸ¡ ì¤‘ê°„ | ë³´ì•ˆ í—¤ë” ì¶”ê°€ | ë¯¸êµ¬í˜„ | Phase 2-2 |
| ğŸŸ¡ ì¤‘ê°„ | ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹œ ì„¸ì…˜ ë¬´íš¨í™” | ë¯¸êµ¬í˜„ | Phase 2-3 |
| ğŸŸ¡ ì¤‘ê°„ | íŒŒì¼ ì €ì¥ì†Œ ë³´ì•ˆ ê°œì„  | ë¯¸êµ¬í˜„ | Phase 2-4 |
| ğŸŸ¡ ì¤‘ê°„ | SQL ë³´ì•ˆ ê°•í™” | ë¯¸êµ¬í˜„ | Phase 2-5 |
| ğŸŸ¢ ë‚®ìŒ | ë¡œê¹… ë³´ì•ˆ ê°œì„  | ë¯¸êµ¬í˜„ | Phase 3-1 |
| ğŸŸ¢ ë‚®ìŒ | ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ | ë¯¸êµ¬í˜„ | Phase 3-2 |

---

## Phase 2: ì¤‘ê°„ ìš°ì„ ìˆœìœ„ ë³´ì•ˆ ê°œì„  (2-4ì£¼)

### ğŸŸ  Phase 2-1: ì†ë„ ì œí•œ (Rate Limiting) êµ¬í˜„

**ì‹¬ê°ë„**: ë†’ìŒ
**ì˜ˆìƒ ì‹œê°„**: 1ì£¼
**CWE**: CWE-307 (ê³¼ë„í•œ ì¸ì¦ ì‹œë„ì˜ ë¶€ì ì ˆí•œ ì œí•œ)
**OWASP**: A07:2021 â€“ ì‹ë³„ ë° ì¸ì¦ ì‹¤íŒ¨

#### ë¬¸ì œì 
- ë¡œê·¸ì¸/íšŒì›ê°€ì… ì—”ë“œí¬ì¸íŠ¸ì— ë¬´ì œí•œ ì‹œë„ ê°€ëŠ¥
- ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²©(Brute Force) ì·¨ì•½
- ì‚¬ìš©ì ì—´ê±° ê³µê²© ê°€ëŠ¥
- DoS ê³µê²© ì·¨ì•½

#### êµ¬í˜„ ê³„íš

**1.1. ì˜ì¡´ì„± ì¶”ê°€**
```gradle
// build.gradle
dependencies {
    // Rate Limiting
    implementation 'com.github.vladimir-bukhtoyarov:bucket4j-core:7.6.0'
    implementation 'com.github.vladimir-bukhtoyarov:bucket4j-jcache:7.6.0'

    // ë˜ëŠ” Resilience4j ì‚¬ìš©
    implementation 'io.github.resilience4j:resilience4j-ratelimiter:2.0.2'
    implementation 'io.github.resilience4j:resilience4j-spring-boot2:2.0.2'
}
```

**1.2. Rate Limiter êµ¬ì„± í´ë˜ìŠ¤ ìƒì„±**
```java
// src/main/java/com/example/boards/config/RateLimitConfig.java
@Configuration
public class RateLimitConfig {

    @Bean
    public ConcurrentHashMap<String, Bucket> rateLimitBuckets() {
        return new ConcurrentHashMap<>();
    }

    @Bean
    public RateLimiterService rateLimiterService() {
        return new RateLimiterService(rateLimitBuckets());
    }
}
```

**1.3. Rate Limiter ì„œë¹„ìŠ¤ ìƒì„±**
```java
// src/main/java/com/example/boards/service/RateLimiterService.java
@Service
public class RateLimiterService {

    private final ConcurrentHashMap<String, Bucket> buckets;

    public RateLimiterService(ConcurrentHashMap<String, Bucket> buckets) {
        this.buckets = buckets;
    }

    /**
     * ë¡œê·¸ì¸ ì‹œë„ ì œí•œ: 5íšŒ/ë¶„
     */
    public Bucket resolveLoginBucket(String key) {
        return buckets.computeIfAbsent(key, k -> {
            Bandwidth limit = Bandwidth.classic(5, Refill.intervally(5, Duration.ofMinutes(1)));
            return Bucket.builder()
                .addLimit(limit)
                .build();
        });
    }

    /**
     * íšŒì›ê°€ì… ì‹œë„ ì œí•œ: 3íšŒ/ì‹œê°„
     */
    public Bucket resolveSignupBucket(String key) {
        return buckets.computeIfAbsent(key, k -> {
            Bandwidth limit = Bandwidth.classic(3, Refill.intervally(3, Duration.ofHours(1)));
            return Bucket.builder()
                .addLimit(limit)
                .build();
        });
    }

    /**
     * ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹œë„ ì œí•œ: 3íšŒ/ì‹œê°„
     */
    public Bucket resolvePasswordChangeBucket(String key) {
        return buckets.computeIfAbsent(key, k -> {
            Bandwidth limit = Bandwidth.classic(3, Refill.intervally(3, Duration.ofHours(1)));
            return Bucket.builder()
                .addLimit(limit)
                .build();
        });
    }
}
```

**1.4. ì»¨íŠ¸ë¡¤ëŸ¬ì— Rate Limiting ì ìš©**
```java
// UserController.java ìˆ˜ì •
@Autowired
private RateLimiterService rateLimiterService;

@PostMapping("/login")
public ResponseEntity<?> login(@Valid @RequestBody LoginRequest request,
                               HttpServletRequest httpRequest,
                               HttpSession session) {
    // IP ê¸°ë°˜ Rate Limiting
    String clientIp = getClientIP(httpRequest);
    String key = "login:" + request.getUserId() + ":" + clientIp;

    Bucket bucket = rateLimiterService.resolveLoginBucket(key);

    if (!bucket.tryConsume(1)) {
        Map<String, String> error = new HashMap<>();
        error.put("error", "ë„ˆë¬´ ë§ì€ ë¡œê·¸ì¸ ì‹œë„ì…ë‹ˆë‹¤. 1ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
        return ResponseEntity.status(429).body(error);  // 429 Too Many Requests
    }

    // ê¸°ì¡´ ë¡œê·¸ì¸ ë¡œì§
    try {
        User user = userService.login(request);
        session.setAttribute("userId", user.getUserId());
        session.setAttribute("userName", user.getName());

        Map<String, Object> response = new HashMap<>();
        response.put("message", "ë¡œê·¸ì¸ ì„±ê³µ");
        response.put("userId", user.getUserId());
        response.put("userName", user.getName());
        return ResponseEntity.ok(response);
    } catch (Exception e) {
        Map<String, String> error = new HashMap<>();
        error.put("error", e.getMessage());
        return ResponseEntity.badRequest().body(error);
    }
}

@PostMapping("/signup")
public ResponseEntity<?> signup(@Valid @RequestBody SignupRequest request,
                               HttpServletRequest httpRequest) {
    // IP ê¸°ë°˜ Rate Limiting
    String clientIp = getClientIP(httpRequest);
    String key = "signup:" + clientIp;

    Bucket bucket = rateLimiterService.resolveSignupBucket(key);

    if (!bucket.tryConsume(1)) {
        Map<String, String> error = new HashMap<>();
        error.put("error", "ë„ˆë¬´ ë§ì€ íšŒì›ê°€ì… ì‹œë„ì…ë‹ˆë‹¤. 1ì‹œê°„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
        return ResponseEntity.status(429).body(error);
    }

    // ê¸°ì¡´ íšŒì›ê°€ì… ë¡œì§
    // ...
}

@PostMapping("/change-password")
public ResponseEntity<?> changePassword(@Valid @RequestBody ChangePasswordRequest request,
                                       HttpServletRequest httpRequest,
                                       HttpSession session) {
    String userId = (String) session.getAttribute("userId");
    if (userId == null) {
        return ResponseEntity.status(401).build();
    }

    // ì‚¬ìš©ì ê¸°ë°˜ Rate Limiting
    String key = "password-change:" + userId;
    Bucket bucket = rateLimiterService.resolvePasswordChangeBucket(key);

    if (!bucket.tryConsume(1)) {
        Map<String, String> error = new HashMap<>();
        error.put("error", "ë„ˆë¬´ ë§ì€ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹œë„ì…ë‹ˆë‹¤. 1ì‹œê°„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
        return ResponseEntity.status(429).body(error);
    }

    // ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ë¡œì§
    // ...
}

// IP ì£¼ì†Œ ì¶”ì¶œ í—¬í¼ ë©”ì„œë“œ
private String getClientIP(HttpServletRequest request) {
    String xfHeader = request.getHeader("X-Forwarded-For");
    if (xfHeader == null) {
        return request.getRemoteAddr();
    }
    return xfHeader.split(",")[0];
}
```

**1.5. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**
```java
// src/test/java/com/example/boards/controller/RateLimitTest.java
@SpringBootTest
@AutoConfigureMockMvc
class RateLimitTest {

    @Autowired
    private MockMvc mockMvc;

    @Test
    void shouldBlockExcessiveLoginAttempts() throws Exception {
        LoginRequest request = new LoginRequest();
        request.setUserId("testuser");
        request.setPassword("wrongpassword");

        // 5ë²ˆ ì‹œë„ (í—ˆìš©)
        for (int i = 0; i < 5; i++) {
            mockMvc.perform(post("/api/users/login")
                    .contentType(MediaType.APPLICATION_JSON)
                    .content(new ObjectMapper().writeValueAsString(request)))
                .andExpect(status().isBadRequest());  // ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸
        }

        // 6ë²ˆì§¸ ì‹œë„ (ì°¨ë‹¨ë˜ì–´ì•¼ í•¨)
        mockMvc.perform(post("/api/users/login")
                .contentType(MediaType.APPLICATION_JSON)
                .content(new ObjectMapper().writeValueAsString(request)))
            .andExpect(status().is(429))
            .andExpect(jsonPath("$.error").value(containsString("ë„ˆë¬´ ë§ì€ ë¡œê·¸ì¸ ì‹œë„")));
    }
}
```

#### ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] Bucket4j ë˜ëŠ” Resilience4j ì˜ì¡´ì„± ì¶”ê°€
- [ ] RateLimiterService êµ¬í˜„
- [ ] ë¡œê·¸ì¸ ì—”ë“œí¬ì¸íŠ¸ì— Rate Limiting ì ìš© (5íšŒ/ë¶„)
- [ ] íšŒì›ê°€ì… ì—”ë“œí¬ì¸íŠ¸ì— Rate Limiting ì ìš© (3íšŒ/ì‹œê°„)
- [ ] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì—”ë“œí¬ì¸íŠ¸ì— Rate Limiting ì ìš© (3íšŒ/ì‹œê°„)
- [ ] IP ì£¼ì†Œ ì¶”ì¶œ ë¡œì§ êµ¬í˜„
- [ ] Rate Limit í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±
- [ ] í”„ë¡ íŠ¸ì—”ë“œì—ì„œ 429 ì—ëŸ¬ ì²˜ë¦¬

---

### ğŸŸ¡ Phase 2-2: ë³´ì•ˆ í—¤ë” ì¶”ê°€

**ì‹¬ê°ë„**: ì¤‘ê°„
**ì˜ˆìƒ ì‹œê°„**: 2ì¼
**CWE**: CWE-1021 (ë Œë”ë§ëœ UI ë ˆì´ì–´ì˜ ë¶€ì ì ˆí•œ ì œí•œ)
**OWASP**: A05:2021 â€“ ë³´ì•ˆ êµ¬ì„± ì˜¤ë¥˜

#### ë¬¸ì œì 
- X-Frame-Options ì—†ìŒ â†’ í´ë¦­ì¬í‚¹ ê³µê²© ê°€ëŠ¥
- X-Content-Type-Options ì—†ìŒ â†’ MIME ìŠ¤ë‹ˆí•‘ ê³µê²© ê°€ëŠ¥
- Content-Security-Policy ì—†ìŒ â†’ XSS ì™„í™” ë¶€ì¡±

#### êµ¬í˜„ ê³„íš

**2.1. ë³´ì•ˆ í—¤ë” í•„í„° ìƒì„±**
```java
// src/main/java/com/example/boards/config/SecurityHeadersFilter.java
@Component
public class SecurityHeadersFilter implements Filter {

    @Override
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
            throws IOException, ServletException {

        HttpServletResponse httpResponse = (HttpServletResponse) response;

        // Clickjacking ë°©ì§€
        httpResponse.setHeader("X-Frame-Options", "DENY");

        // MIME ìŠ¤ë‹ˆí•‘ ë°©ì§€
        httpResponse.setHeader("X-Content-Type-Options", "nosniff");

        // XSS í•„í„° í™œì„±í™” (êµ¬í˜• ë¸Œë¼ìš°ì € ì§€ì›)
        httpResponse.setHeader("X-XSS-Protection", "1; mode=block");

        // Content Security Policy
        httpResponse.setHeader("Content-Security-Policy",
            "default-src 'self'; " +
            "script-src 'self' 'unsafe-inline'; " +
            "style-src 'self' 'unsafe-inline'; " +
            "img-src 'self' data: https:; " +
            "font-src 'self'; " +
            "connect-src 'self'; " +
            "frame-ancestors 'none';"
        );

        // Referrer ì •ì±…
        httpResponse.setHeader("Referrer-Policy", "strict-origin-when-cross-origin");

        // HTTPS ê°•ì œ (í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œë§Œ)
        // httpResponse.setHeader("Strict-Transport-Security", "max-age=31536000; includeSubDomains");

        // Permissions Policy (êµ¬ Feature-Policy)
        httpResponse.setHeader("Permissions-Policy",
            "geolocation=(), microphone=(), camera=(), payment=()"
        );

        chain.doFilter(request, response);
    }
}
```

**2.2. í•„í„° ë“±ë¡**
```java
// SecurityConfig.javaì— ì¶”ê°€
@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
            // ê¸°ì¡´ ì„¤ì •...
            .headers()
                .frameOptions().deny()
                .contentTypeOptions().and()
                .xssProtection().block(true).and()
                .contentSecurityPolicy("default-src 'self'; script-src 'self' 'unsafe-inline'")
                .and()
            .and()
            // ...
    }
}
```

#### ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] SecurityHeadersFilter ìƒì„±
- [ ] ëª¨ë“  ë³´ì•ˆ í—¤ë” ì„¤ì •
- [ ] Spring Securityì— í—¤ë” ì„¤ì • í†µí•©
- [ ] ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ì—ì„œ í—¤ë” í™•ì¸
- [ ] CSP ì •ì±…ì´ React ì•±ê³¼ í˜¸í™˜ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸

---

### ğŸŸ¡ Phase 2-3: ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹œ ì„¸ì…˜ ë¬´íš¨í™”

**ì‹¬ê°ë„**: ì¤‘ê°„
**ì˜ˆìƒ ì‹œê°„**: 1ì¼
**CWE**: CWE-613 (ë¶ˆì¶©ë¶„í•œ ì„¸ì…˜ ë§Œë£Œ)
**OWASP**: A07:2021 â€“ ì‹ë³„ ë° ì¸ì¦ ì‹¤íŒ¨

#### ë¬¸ì œì 
- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í›„ì—ë„ ê¸°ì¡´ ì„¸ì…˜ì´ í™œì„± ìƒíƒœë¡œ ìœ ì§€
- ê³µê²©ìê°€ íƒˆì·¨í•œ ì„¸ì…˜ìœ¼ë¡œ ê³„ì† ì ‘ê·¼ ê°€ëŠ¥

#### êµ¬í˜„ ê³„íš

**3.1. Session Registry ì„¤ì •**
```java
// SecurityConfig.java ìˆ˜ì •
@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Bean
    public SessionRegistry sessionRegistry() {
        return new SessionRegistryImpl();
    }

    @Bean
    public HttpSessionEventPublisher httpSessionEventPublisher() {
        return new HttpSessionEventPublisher();
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
            // ê¸°ì¡´ ì„¤ì •...
            .sessionManagement()
                .maximumSessions(5)
                .maxSessionsPreventsLogin(false)
                .sessionRegistry(sessionRegistry());
    }
}
```

**3.2. ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹œ ëª¨ë“  ì„¸ì…˜ ë¬´íš¨í™”**
```java
// UserController.java ìˆ˜ì •
@Autowired
private SessionRegistry sessionRegistry;

@PostMapping("/change-password")
public ResponseEntity<?> changePassword(@Valid @RequestBody ChangePasswordRequest request,
                                       HttpSession session,
                                       HttpServletRequest httpRequest) {
    String userId = (String) session.getAttribute("userId");
    if (userId == null) {
        return ResponseEntity.status(401).build();
    }

    try {
        // ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
        userService.changePassword(userId, request);

        // ì´ ì‚¬ìš©ìì˜ ëª¨ë“  í™œì„± ì„¸ì…˜ ë¬´íš¨í™”
        invalidateAllUserSessions(userId);

        // í˜„ì¬ ì„¸ì…˜ë„ ë¬´íš¨í™”í•˜ê³  ìƒˆ ì„¸ì…˜ ìƒì„±
        session.invalidate();
        HttpSession newSession = httpRequest.getSession(true);
        newSession.setAttribute("userId", userId);

        Map<String, String> response = new HashMap<>();
        response.put("message", "ë¹„ë°€ë²ˆí˜¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
        return ResponseEntity.ok(response);
    } catch (Exception e) {
        Map<String, String> error = new HashMap<>();
        error.put("error", e.getMessage());
        return ResponseEntity.badRequest().body(error);
    }
}

private void invalidateAllUserSessions(String userId) {
    List<Object> allPrincipals = sessionRegistry.getAllPrincipals();

    for (Object principal : allPrincipals) {
        if (principal instanceof String && principal.equals(userId)) {
            List<SessionInformation> sessions = sessionRegistry.getAllSessions(principal, false);
            for (SessionInformation sessionInfo : sessions) {
                sessionInfo.expireNow();
            }
        }
    }
}
```

**3.3. ë¡œê·¸ì¸ ì‹œ principal ë“±ë¡**
```java
// UserController.javaì˜ login ë©”ì„œë“œ ìˆ˜ì •
@PostMapping("/login")
public ResponseEntity<?> login(@Valid @RequestBody LoginRequest request,
                               HttpServletRequest httpRequest,
                               HttpSession session) {
    // Rate limiting...

    try {
        User user = userService.login(request);

        // ì„¸ì…˜ì— ì‚¬ìš©ì ì •ë³´ ì €ì¥
        session.setAttribute("userId", user.getUserId());
        session.setAttribute("userName", user.getName());

        // SessionRegistryì— principal ë“±ë¡
        sessionRegistry.registerNewSession(session.getId(), user.getUserId());

        Map<String, Object> response = new HashMap<>();
        response.put("message", "ë¡œê·¸ì¸ ì„±ê³µ");
        response.put("userId", user.getUserId());
        response.put("userName", user.getName());
        return ResponseEntity.ok(response);
    } catch (Exception e) {
        Map<String, String> error = new HashMap<>();
        error.put("error", e.getMessage());
        return ResponseEntity.badRequest().body(error);
    }
}
```

#### ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] SessionRegistry ë¹ˆ ì„¤ì •
- [ ] HttpSessionEventPublisher ì„¤ì •
- [ ] ë¡œê·¸ì¸ ì‹œ SessionRegistryì— ì„¸ì…˜ ë“±ë¡
- [ ] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹œ ëª¨ë“  ì„¸ì…˜ ë¬´íš¨í™” ë¡œì§ êµ¬í˜„
- [ ] í…ŒìŠ¤íŠ¸: ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í›„ ê¸°ì¡´ ì„¸ì…˜ìœ¼ë¡œ ì ‘ê·¼ ë¶ˆê°€ í™•ì¸

---

### ğŸŸ¡ Phase 2-4: íŒŒì¼ ì €ì¥ì†Œ ë³´ì•ˆ ê°œì„ 

**ì‹¬ê°ë„**: ì¤‘ê°„
**ì˜ˆìƒ ì‹œê°„**: 2ì¼
**CWE**: CWE-552 (ì™¸ë¶€ ë‹¹ì‚¬ìê°€ ì ‘ê·¼ ê°€ëŠ¥í•œ íŒŒì¼ ë˜ëŠ” ë””ë ‰í† ë¦¬)
**OWASP**: A01:2021 â€“ ê¹¨ì§„ ì ‘ê·¼ ì œì–´

#### ë¬¸ì œì 
- ì—…ë¡œë“œ ë””ë ‰í† ë¦¬ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë£¨íŠ¸ ë‚´ì— ìœ„ì¹˜
- ì‚¬ìš©ì/ë‚ ì§œë³„ ë¶„ë¦¬ ì—†ìŒ
- ì €ì¥ ì‹œ ì•”í˜¸í™” ì—†ìŒ

#### êµ¬í˜„ ê³„íš

**4.1. íŒŒì¼ ì €ì¥ì†Œ êµ¬ì¡° ê°œì„ **
```java
// FileStorageService.java ìƒì„±
@Service
public class FileStorageService {

    @Value("${file.upload.directory}")
    private String uploadBaseDir;

    /**
     * ì‚¬ìš©ìë³„, ë‚ ì§œë³„ ê³„ì¸µ êµ¬ì¡°ë¡œ íŒŒì¼ ê²½ë¡œ ìƒì„±
     * ì˜ˆ: /var/app/files/{userId}/{yyyy}/{MM}/{dd}/{uuid}_{filename}
     */
    public Path generateUserFilePath(String userId, String originalFilename) throws IOException {
        LocalDate today = LocalDate.now();

        String relativePath = String.format("%s/%d/%02d/%02d",
            userId,
            today.getYear(),
            today.getMonthValue(),
            today.getDayOfMonth()
        );

        Path userDateDir = Paths.get(uploadBaseDir, relativePath);
        Files.createDirectories(userDateDir);

        // íŒŒì¼ëª… ì •ì œ ë° UUID ì¶”ê°€
        Path filePath = FilePathSanitizer.sanitizeFilePath(
            userDateDir.toString(),
            originalFilename
        );

        return filePath;
    }

    /**
     * íŒŒì¼ ì €ì¥ (ì„ íƒì  ì•”í˜¸í™”)
     */
    public void saveFile(MultipartFile file, Path destination, boolean encrypt) throws IOException {
        if (encrypt) {
            // AES ì•”í˜¸í™” ì €ì¥ (ì„ íƒì )
            encryptAndSave(file.getInputStream(), destination);
        } else {
            Files.copy(file.getInputStream(), destination, StandardCopyOption.REPLACE_EXISTING);
        }
    }

    /**
     * ì•”í˜¸í™”ëœ íŒŒì¼ ì €ì¥ (AES-256)
     */
    private void encryptAndSave(InputStream inputStream, Path destination) throws IOException {
        // TODO: AES ì•”í˜¸í™” êµ¬í˜„
        // í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ë¯¼ê°í•œ íŒŒì¼(ê°œì¸ì •ë³´ ë“±)ì—ë§Œ ì ìš©
    }
}
```

**4.2. ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ìƒˆ ì €ì¥ì†Œ ì„œë¹„ìŠ¤ ì‚¬ìš©**
```java
// FileController.java ìˆ˜ì •
@Autowired
private FileStorageService fileStorageService;

@PostMapping("/upload")
public ResponseEntity<?> uploadFile(@RequestParam("file") MultipartFile file,
                                   @RequestParam("postId") Long postId,
                                   HttpSession session) throws IOException {
    String userId = (String) session.getAttribute("userId");
    if (userId == null) {
        return ResponseEntity.status(401).body(Map.of("error", "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."));
    }

    // ì‚¬ìš©ìë³„, ë‚ ì§œë³„ ê²½ë¡œ ìƒì„±
    Path filePath = fileStorageService.generateUserFilePath(userId, file.getOriginalFilename());

    // íŒŒì¼ ì €ì¥
    fileStorageService.saveFile(file, filePath, false);  // ì•”í˜¸í™” ì˜µì…˜

    FileAttachment fileAttachment = new FileAttachment();
    fileAttachment.setPostId(postId);
    fileAttachment.setOriginalFilename(file.getOriginalFilename());
    fileAttachment.setStoredFilename(filePath.getFileName().toString());
    fileAttachment.setFilePath(filePath.toString());
    fileAttachment.setFileSize(file.getSize());
    fileAttachment.setContentType(file.getContentType());

    fileAttachmentService.createFile(fileAttachment);
    return ResponseEntity.ok(fileAttachment);
}
```

**4.3. application.yml ì„¤ì •**
```yaml
file:
  upload:
    directory: ${FILE_UPLOAD_DIR:/var/app/uploads}  # ì• í”Œë¦¬ì¼€ì´ì…˜ ì™¸ë¶€ ê²½ë¡œ
```

#### ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] FileStorageService ìƒì„±
- [ ] ì‚¬ìš©ìë³„/ë‚ ì§œë³„ ë””ë ‰í† ë¦¬ êµ¬ì¡° êµ¬í˜„
- [ ] ì™¸ë¶€ ì—…ë¡œë“œ ë””ë ‰í† ë¦¬ ì„¤ì •
- [ ] FileControllerì™€ PostControllerì—ì„œ ìƒˆ ì„œë¹„ìŠ¤ ì‚¬ìš©
- [ ] ê¸°ì¡´ íŒŒì¼ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± (ì„ íƒ)
- [ ] íŒŒì¼ ì ‘ê·¼ ê¶Œí•œ í…ŒìŠ¤íŠ¸

---

### ğŸŸ¡ Phase 2-5: SQL ë³´ì•ˆ ê°•í™”

**ì‹¬ê°ë„**: ì¤‘ê°„
**ì˜ˆìƒ ì‹œê°„**: 1ì¼
**CWE**: CWE-89 (SQL ì£¼ì…)
**OWASP**: A03:2021 â€“ ì£¼ì…

#### ë¬¸ì œì 
- LIKE íŒ¨í„´ ì´ìŠ¤ì¼€ì´í”„ê°€ ìˆ˜ë™ êµ¬í˜„ì— ì˜ì¡´
- í–¥í›„ ì½”ë“œì—ì„œ ì´ìŠ¤ì¼€ì´í”„ë¥¼ ëˆ„ë½í•  ê°€ëŠ¥ì„±

#### êµ¬í˜„ ê³„íš

**5.1. ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ìœ¼ë¡œ ì „í™˜ (ê¶Œì¥)**
```sql
-- schema.sql ë˜ëŠ” migration.sql
ALTER TABLE posts ADD FULLTEXT INDEX ft_title_content (title, content);
ALTER TABLE posts ADD FULLTEXT INDEX ft_title (title);
```

```xml
<!-- PostMapper.xml ìˆ˜ì • -->
<select id="findAll" resultMap="PostResultMap">
    SELECT p.post_id, p.title, p.content, p.author_id, u.name as author_name,
           p.is_notice, p.view_count, p.created_at, p.updated_at,
           COALESCE(c.comment_count, 0) as comment_count,
           COALESCE(f.file_count, 0) as file_count
    FROM posts p
    JOIN users u ON p.author_id = u.user_id
    LEFT JOIN (
        SELECT post_id, COUNT(*) as comment_count
        FROM comments
        GROUP BY post_id
    ) c ON p.post_id = c.post_id
    LEFT JOIN (
        SELECT post_id, COUNT(*) as file_count
        FROM file_attachments
        GROUP BY post_id
    ) f ON p.post_id = f.post_id
    <where>
        <if test="searchQuery != null and searchQuery != ''">
            <!-- ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ ì‚¬ìš© -->
            MATCH(p.title, p.content) AGAINST(#{searchQuery} IN NATURAL LANGUAGE MODE)
        </if>
    </where>
    ORDER BY p.is_notice DESC, p.created_at DESC
    LIMIT #{limit} OFFSET #{offset}
</select>
```

**5.2. LIKE íŒ¨í„´ ì´ìŠ¤ì¼€ì´í”„ ê°•í™” (ëŒ€ì•ˆ)**
```java
// PostService.javaì— ì¶”ê°€ ê²€ì¦
private String escapeLikePattern(String searchQuery) {
    if (searchQuery == null || searchQuery.isEmpty()) {
        return searchQuery;
    }

    // ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬
    String escaped = searchQuery
        .replace("\\", "\\\\")
        .replace("%", "\\%")
        .replace("_", "\\_");

    // ì¶”ê°€ ê²€ì¦: SQL í‚¤ì›Œë“œ ì°¨ë‹¨
    String[] sqlKeywords = {"SELECT", "INSERT", "UPDATE", "DELETE", "DROP", "CREATE", "ALTER"};
    String upper = escaped.toUpperCase();
    for (String keyword : sqlKeywords) {
        if (upper.contains(keyword)) {
            throw new IllegalArgumentException("ê²€ìƒ‰ì–´ì— í—ˆìš©ë˜ì§€ ì•ŠëŠ” ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.");
        }
    }

    return escaped;
}
```

**5.3. ëª¨ë“  MyBatis ì¿¼ë¦¬ ì½”ë“œ ë¦¬ë·°**
```bash
# ëª¨ë“  XML ë§¤í¼ íŒŒì¼ ê²€í† 
find src/main/resources/mapper -name "*.xml" -exec grep -H "#{" {} \;

# íŒŒë¼ë¯¸í„°í™”ë˜ì§€ ì•Šì€ ì¿¼ë¦¬ ê²€ìƒ‰ (ìœ„í—˜)
find src/main/resources/mapper -name "*.xml" -exec grep -H "\${" {} \;
```

#### ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì „ì²´ í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ ì¶”ê°€
- [ ] PostMapper.xmlì—ì„œ MATCH AGAINST ì‚¬ìš©ìœ¼ë¡œ ë³€ê²½
- [ ] LIKE íŒ¨í„´ ì´ìŠ¤ì¼€ì´í”„ ê²€ì¦ ê°•í™” (ëŒ€ì•ˆ)
- [ ] ëª¨ë“  MyBatis XML íŒŒì¼ ì½”ë“œ ë¦¬ë·°
- [ ] `${}` ì‚¬ìš© ì—¬ë¶€ í™•ì¸ (íŒŒë¼ë¯¸í„°í™” ëˆ„ë½)
- [ ] ê²€ìƒ‰ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

---

## Phase 3: ë‚®ì€ ìš°ì„ ìˆœìœ„ ë° ì§€ì†ì  ê°œì„  (4ì£¼+)

### ğŸŸ¢ Phase 3-1: ë¡œê¹… ë³´ì•ˆ ê°œì„ 

**ì‹¬ê°ë„**: ë‚®ìŒ
**ì˜ˆìƒ ì‹œê°„**: 1ì¼

#### êµ¬í˜„ ê³„íš

**1.1. ë¯¼ê°í•œ ì •ë³´ ë¡œê¹… ë°©ì§€**
```java
// ë¡œê¹… í•„í„° ìƒì„±
@Component
public class SensitiveDataFilter {

    private static final Pattern PASSWORD_PATTERN = Pattern.compile("\"password\"\\s*:\\s*\"[^\"]*\"");
    private static final Pattern EMAIL_PATTERN = Pattern.compile("([a-zA-Z0-9._%+-]+)@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}");

    public String filterSensitiveData(String message) {
        if (message == null) return null;

        // ë¹„ë°€ë²ˆí˜¸ ë§ˆìŠ¤í‚¹
        message = PASSWORD_PATTERN.matcher(message).replaceAll("\"password\":\"***\"");

        // ì´ë©”ì¼ ë¶€ë¶„ ë§ˆìŠ¤í‚¹
        message = EMAIL_PATTERN.matcher(message).replaceAll("$1***@***");

        return message;
    }
}
```

**1.2. logback-spring.xml ì„¤ì •**
```xml
<!-- src/main/resources/logback-spring.xml -->
<configuration>
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>logs/application.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>logs/application-%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>30</maxHistory>
        </rollingPolicy>
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <root level="INFO">
        <appender-ref ref="FILE" />
    </root>

    <!-- í”„ë¡œë•ì…˜ì—ì„œëŠ” DEBUG ë¡œê·¸ ë¹„í™œì„±í™” -->
    <logger name="com.example.boards" level="INFO" />
</configuration>
```

**1.3. System.out.println ì œê±°**
```bash
# ëª¨ë“  System.out ê²€ìƒ‰
grep -r "System.out" src/main/java/

# SLF4J Loggerë¡œ êµì²´
# Before: System.out.println("=== ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ ì‹œì‘ ===");
# After:  log.info("ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ ì‹œì‘");
```

#### ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] SensitiveDataFilter êµ¬í˜„
- [ ] logback-spring.xml ì„¤ì •
- [ ] System.out.println â†’ Logger êµì²´
- [ ] ë¡œê·¸ íŒŒì¼ ë¡œí…Œì´ì…˜ ì„¤ì •
- [ ] í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ DEBUG ë¡œê·¸ ë¹„í™œì„±í™”

---

### ğŸŸ¢ Phase 3-2: ë³´ì•ˆ ëª¨ë‹ˆí„°ë§

**ì‹¬ê°ë„**: ë‚®ìŒ
**ì˜ˆìƒ ì‹œê°„**: 2ì£¼

#### êµ¬í˜„ ê³„íš

**2.1. ë³´ì•ˆ ì´ë²¤íŠ¸ ë¡œê¹…**
```java
// SecurityEventLogger.java
@Service
public class SecurityEventLogger {

    private static final Logger log = LoggerFactory.getLogger("SECURITY_EVENTS");

    public void logFailedLogin(String userId, String ipAddress) {
        log.warn("Failed login attempt - User: {}, IP: {}", userId, ipAddress);
    }

    public void logSuccessfulLogin(String userId, String ipAddress) {
        log.info("Successful login - User: {}, IP: {}", userId, ipAddress);
    }

    public void logPasswordChange(String userId) {
        log.info("Password changed - User: {}", userId);
    }

    public void logFileAccess(String userId, Long fileId, boolean authorized) {
        if (!authorized) {
            log.warn("Unauthorized file access attempt - User: {}, File: {}", userId, fileId);
        }
    }

    public void logRateLimitExceeded(String endpoint, String identifier) {
        log.warn("Rate limit exceeded - Endpoint: {}, Identifier: {}", endpoint, identifier);
    }
}
```

**2.2. ì‹¤íŒ¨í•œ ë¡œê·¸ì¸ ì‹œë„ ì¶”ì **
```java
// FailedLoginTracker.java
@Service
public class FailedLoginTracker {

    private final ConcurrentHashMap<String, Integer> failedAttempts = new ConcurrentHashMap<>();
    private final ConcurrentHashMap<String, Instant> lockoutTimes = new ConcurrentHashMap<>();

    private static final int MAX_ATTEMPTS = 10;
    private static final Duration LOCKOUT_DURATION = Duration.ofMinutes(30);

    public boolean isLocked(String userId) {
        Instant lockoutTime = lockoutTimes.get(userId);
        if (lockoutTime != null && Instant.now().isBefore(lockoutTime)) {
            return true;
        }
        lockoutTimes.remove(userId);
        return false;
    }

    public void recordFailedAttempt(String userId) {
        int attempts = failedAttempts.merge(userId, 1, Integer::sum);

        if (attempts >= MAX_ATTEMPTS) {
            lockoutTimes.put(userId, Instant.now().plus(LOCKOUT_DURATION));
        }
    }

    public void resetAttempts(String userId) {
        failedAttempts.remove(userId);
        lockoutTimes.remove(userId);
    }
}
```

**2.3. ì»¨íŠ¸ë¡¤ëŸ¬ì— í†µí•©**
```java
// UserController.java
@Autowired
private SecurityEventLogger securityLogger;

@Autowired
private FailedLoginTracker loginTracker;

@PostMapping("/login")
public ResponseEntity<?> login(@Valid @RequestBody LoginRequest request,
                               HttpServletRequest httpRequest,
                               HttpSession session) {
    String clientIp = getClientIP(httpRequest);

    // ê³„ì • ì ê¸ˆ í™•ì¸
    if (loginTracker.isLocked(request.getUserId())) {
        securityLogger.logFailedLogin(request.getUserId(), clientIp);
        Map<String, String> error = new HashMap<>();
        error.put("error", "ê³„ì •ì´ ì¼ì‹œì ìœ¼ë¡œ ì ê²¼ìŠµë‹ˆë‹¤. 30ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
        return ResponseEntity.status(403).body(error);
    }

    try {
        User user = userService.login(request);

        // ë¡œê·¸ì¸ ì„±ê³µ
        loginTracker.resetAttempts(request.getUserId());
        securityLogger.logSuccessfulLogin(user.getUserId(), clientIp);

        session.setAttribute("userId", user.getUserId());
        session.setAttribute("userName", user.getName());

        return ResponseEntity.ok(Map.of(
            "message", "ë¡œê·¸ì¸ ì„±ê³µ",
            "userId", user.getUserId(),
            "userName", user.getName()
        ));
    } catch (Exception e) {
        // ë¡œê·¸ì¸ ì‹¤íŒ¨
        loginTracker.recordFailedAttempt(request.getUserId());
        securityLogger.logFailedLogin(request.getUserId(), clientIp);

        return ResponseEntity.badRequest().body(Map.of("error", e.getMessage()));
    }
}
```

#### ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] SecurityEventLogger êµ¬í˜„
- [ ] FailedLoginTracker êµ¬í˜„
- [ ] ë³´ì•ˆ ì´ë²¤íŠ¸ ë¡œê¹… í†µí•©
- [ ] ê³„ì • ì ê¸ˆ ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„
- [ ] ë³´ì•ˆ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ (ì„ íƒ)

---

## ğŸ¯ ì „ì²´ êµ¬í˜„ íƒ€ì„ë¼ì¸

| Phase | ê³¼ì œ | ì˜ˆìƒ ì‹œê°„ | ìš°ì„ ìˆœìœ„ |
|-------|------|----------|----------|
| **Phase 1** | âœ… ì¹˜ëª…ì /ë†’ìŒ ì‹¬ê°ë„ í•´ê²° | 2ì£¼ | **ì™„ë£Œ** |
| **Phase 2-1** | ì†ë„ ì œí•œ (Rate Limiting) | 1ì£¼ | ë†’ìŒ |
| **Phase 2-2** | ë³´ì•ˆ í—¤ë” ì¶”ê°€ | 2ì¼ | ì¤‘ê°„ |
| **Phase 2-3** | ì„¸ì…˜ ë¬´íš¨í™” | 1ì¼ | ì¤‘ê°„ |
| **Phase 2-4** | íŒŒì¼ ì €ì¥ì†Œ ê°œì„  | 2ì¼ | ì¤‘ê°„ |
| **Phase 2-5** | SQL ë³´ì•ˆ ê°•í™” | 1ì¼ | ì¤‘ê°„ |
| **Phase 3-1** | ë¡œê¹… ë³´ì•ˆ ê°œì„  | 1ì¼ | ë‚®ìŒ |
| **Phase 3-2** | ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ | 2ì£¼ | ë‚®ìŒ |

**ì´ ì˜ˆìƒ ì‹œê°„**: 6-7ì£¼

---

## ğŸ“‹ í”„ë¡ íŠ¸ì—”ë“œ í•„ìˆ˜ ì‘ì—…

### CSRF í† í° ì²˜ë¦¬ ì¶”ê°€

**frontend/src/index.js ë˜ëŠ” App.js**:
```javascript
import axios from 'axios';

// CSRF í† í° ìë™ í¬í•¨
axios.interceptors.request.use(config => {
    const token = document.cookie.match(/XSRF-TOKEN=([^;]+)/)?.[1];
    if (token) {
        config.headers['X-XSRF-TOKEN'] = token;
    }
    return config;
});

// Rate Limit ì—ëŸ¬ ì²˜ë¦¬
axios.interceptors.response.use(
    response => response,
    error => {
        if (error.response?.status === 429) {
            alert('ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
        }
        return Promise.reject(error);
    }
);
```

---

## ğŸ” ê²€ì¦ ë° í…ŒìŠ¤íŠ¸

### Phase 2 ì™„ë£Œ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] Rate Limiting: ë¡œê·¸ì¸ 5íšŒ ì‹œë„ í›„ ì°¨ë‹¨ í™•ì¸
- [ ] ë³´ì•ˆ í—¤ë”: ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ì—ì„œ í—¤ë” í™•ì¸
- [ ] ì„¸ì…˜ ë¬´íš¨í™”: ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í›„ ê¸°ì¡´ ì„¸ì…˜ ì ‘ê·¼ ë¶ˆê°€ í™•ì¸
- [ ] íŒŒì¼ ì €ì¥ì†Œ: ì™¸ë¶€ ë””ë ‰í† ë¦¬ì— ì‚¬ìš©ìë³„ë¡œ ì €ì¥ í™•ì¸
- [ ] SQL ë³´ì•ˆ: ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

### ë³´ì•ˆ ìŠ¤ìº” ë„êµ¬
- [ ] OWASP ZAP ìŠ¤ìº” ì‹¤í–‰
- [ ] SonarQube ì •ì  ë¶„ì„
- [ ] npm audit (í”„ë¡ íŠ¸ì—”ë“œ)
- [ ] Dependabot í™œì„±í™”

---

## ğŸš€ ë°°í¬ ì „ ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

### í™˜ê²½ ë³€ìˆ˜ í™•ì¸
- [ ] DB_PASSWORD: ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
- [ ] COOKIE_SECURE: true (HTTPS í™˜ê²½)
- [ ] CORS_ORIGINS: í”„ë¡œë•ì…˜ ë„ë©”ì¸ ì„¤ì •
- [ ] FILE_UPLOAD_DIR: ì™¸ë¶€ ë””ë ‰í† ë¦¬ ê²½ë¡œ

### ë³´ì•ˆ ì„¤ì • í™•ì¸
- [ ] HTTPS ì¸ì¦ì„œ ì„¤ì¹˜
- [ ] ë°©í™”ë²½ ê·œì¹™ ì„¤ì •
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ ì œí•œ
- [ ] ë¡œê·¸ íŒŒì¼ ê¶Œí•œ ì„¤ì •

### ëª¨ë‹ˆí„°ë§ ì„¤ì •
- [ ] ë³´ì•ˆ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
- [ ] ì‹¤íŒ¨í•œ ë¡œê·¸ì¸ ì•Œë¦¼
- [ ] Rate Limit ì´ˆê³¼ ì•Œë¦¼
- [ ] íŒŒì¼ ì—…ë¡œë“œ ëª¨ë‹ˆí„°ë§

---

**ë‹¤ìŒ ë‹¨ê³„**: Phase 2-1 (ì†ë„ ì œí•œ) êµ¬í˜„ë¶€í„° ì‹œì‘í•˜ì„¸ìš”.
